{"version":3,"sources":["../src/rules/baseRules.ts","../src/engine/validationEngine.ts","../src/validators/fieldValidators.ts","../src/index.ts"],"names":[],"mappings":"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","file":"index.js","sourcesContent":["/**\n * Base Validation Rules\n * Core validation rule implementations\n */\n\nimport type { ValidationRule } from '@react-dynamic-forms/core';\n\n/**\n * Required field validation\n */\nexport const requiredRule = (value: any, rule: ValidationRule): string | null => {\n  if (value === undefined || value === null || value === '' ||\n      (Array.isArray(value) && value.length === 0)) {\n    return rule.message || 'This field is required';\n  }\n  return null;\n};\n\n/**\n * Minimum length validation\n */\nexport const minLengthRule = (value: any, rule: ValidationRule): string | null => {\n  if (!value) return null; // Skip if empty (use required rule for that)\n\n  const length = String(value).length;\n  const minLength = Number(rule.value);\n\n  if (length < minLength) {\n    return rule.message || `Must be at least ${minLength} characters`;\n  }\n  return null;\n};\n\n/**\n * Maximum length validation\n */\nexport const maxLengthRule = (value: any, rule: ValidationRule): string | null => {\n  if (!value) return null;\n\n  const length = String(value).length;\n  const maxLength = Number(rule.value);\n\n  if (length > maxLength) {\n    return rule.message || `Must be no more than ${maxLength} characters`;\n  }\n  return null;\n};\n\n/**\n * Email validation\n */\nexport const emailRule = (value: any, rule: ValidationRule): string | null => {\n  if (!value) return null;\n\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\n  if (!emailRegex.test(String(value))) {\n    return rule.message || 'Please enter a valid email address';\n  }\n  return null;\n};\n\n/**\n * Pattern validation (regex)\n */\nexport const patternRule = (value: any, rule: ValidationRule): string | null => {\n  if (!value) return null;\n\n  const pattern = new RegExp(rule.value);\n\n  if (!pattern.test(String(value))) {\n    return rule.message || 'Invalid format';\n  }\n  return null;\n};\n\n/**\n * Minimum value validation (for numbers)\n */\nexport const minRule = (value: any, rule: ValidationRule): string | null => {\n  if (value === undefined || value === null || value === '') return null;\n\n  const numValue = Number(value);\n  const minValue = Number(rule.value);\n\n  if (isNaN(numValue)) {\n    return 'Please enter a valid number';\n  }\n\n  if (numValue < minValue) {\n    return rule.message || `Must be at least ${minValue}`;\n  }\n  return null;\n};\n\n/**\n * Maximum value validation (for numbers)\n */\nexport const maxRule = (value: any, rule: ValidationRule): string | null => {\n  if (value === undefined || value === null || value === '') return null;\n\n  const numValue = Number(value);\n  const maxValue = Number(rule.value);\n\n  if (isNaN(numValue)) {\n    return 'Please enter a valid number';\n  }\n\n  if (numValue > maxValue) {\n    return rule.message || `Must be no more than ${maxValue}`;\n  }\n  return null;\n};\n\n/**\n * Map of all base validation rules\n */\nexport const baseValidationRules = {\n  required: requiredRule,\n  minLength: minLengthRule,\n  maxLength: maxLengthRule,\n  email: emailRule,\n  pattern: patternRule,\n  min: minRule,\n  max: maxRule,\n} as const;","/**\n * Validation Engine\n * Core validation logic for form fields\n */\n\nimport type { FieldConfig } from '@react-dynamic-forms/core';\nimport { baseValidationRules } from '../rules/baseRules';\n\nexport interface ValidationResult {\n  isValid: boolean;\n  errors: string[];\n}\n\nexport interface FieldValidationResult {\n  fieldId: string;\n  isValid: boolean;\n  errors: string[];\n}\n\n/**\n * Validate a single field value against its validation rules\n */\nexport const validateField = (\n  value: any,\n  fieldConfig: FieldConfig\n): ValidationResult => {\n  const errors: string[] = [];\n\n  // Check if field has validation rules\n  if (!fieldConfig.validation?.rules || fieldConfig.validation.rules.length === 0) {\n    return { isValid: true, errors: [] };\n  }\n\n  // Run each validation rule\n  for (const rule of fieldConfig.validation.rules) {\n    const validator = baseValidationRules[rule.type];\n\n    if (!validator) {\n      console.warn(`Unknown validation rule type: ${rule.type}`);\n      continue;\n    }\n\n    const error = validator(value, rule);\n    if (error) {\n      errors.push(error);\n    }\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors,\n  };\n};\n\n/**\n * Validate multiple fields at once\n */\nexport const validateFields = (\n  fieldValues: Record<string, any>,\n  fieldConfigs: FieldConfig[]\n): FieldValidationResult[] => {\n  return fieldConfigs.map(config => {\n    const value = fieldValues[config.fieldId];\n    const result = validateField(value, config);\n\n    return {\n      fieldId: config.fieldId,\n      isValid: result.isValid,\n      errors: result.errors,\n    };\n  });\n};\n\n/**\n * Validate all fields in a step\n */\nexport const validateStep = (\n  stepData: Record<string, any>,\n  fieldConfigs: FieldConfig[]\n): ValidationResult => {\n  const allErrors: string[] = [];\n\n  for (const config of fieldConfigs) {\n    const value = stepData[config.fieldId];\n    const result = validateField(value, config);\n\n    if (!result.isValid) {\n      allErrors.push(...result.errors);\n    }\n  }\n\n  return {\n    isValid: allErrors.length === 0,\n    errors: allErrors,\n  };\n};\n\n/**\n * Check if a specific field is valid\n */\nexport const isFieldValid = (\n  value: any,\n  fieldConfig: FieldConfig\n): boolean => {\n  const result = validateField(value, fieldConfig);\n  return result.isValid;\n};\n\n/**\n * Get first error message for a field\n */\nexport const getFieldError = (\n  value: any,\n  fieldConfig: FieldConfig\n): string | null => {\n  const result = validateField(value, fieldConfig);\n  return result.errors[0] || null;\n};\n\n/**\n * Check if a field value is required\n */\nexport const isFieldRequired = (fieldConfig: FieldConfig): boolean => {\n  if (fieldConfig.required) return true;\n\n  // Check if any validation rule is 'required'\n  return fieldConfig.validation?.rules?.some(rule => rule.type === 'required') ?? false;\n};","/**\n * Field-specific Validators\n * Convenience validators for common field types\n */\n\nimport type { FieldConfig } from '@react-dynamic-forms/core';\nimport { validateField, type ValidationResult } from '../engine/validationEngine';\n\n/**\n * Validate email field\n */\nexport const validateEmailField = (email: string): ValidationResult => {\n  const emailConfig: FieldConfig = {\n    fieldId: 'email',\n    fieldType: 'email',\n    label: 'Email',\n    validation: {\n      rules: [\n        { type: 'required', message: 'Email is required' },\n        { type: 'email', message: 'Please enter a valid email' },\n      ],\n    },\n  };\n\n  return validateField(email, emailConfig);\n};\n\n/**\n * Validate phone number field\n */\nexport const validatePhoneField = (phone: string): ValidationResult => {\n  const phoneConfig: FieldConfig = {\n    fieldId: 'phone',\n    fieldType: 'tel',\n    label: 'Phone',\n    validation: {\n      rules: [\n        {\n          type: 'pattern',\n          value: '^[0-9]{10}$|^\\\\([0-9]{3}\\\\) [0-9]{3}-[0-9]{4}$',\n          message: 'Please enter a valid phone number',\n        },\n      ],\n    },\n  };\n\n  return validateField(phone, phoneConfig);\n};\n\n/**\n * Validate password field\n */\nexport const validatePasswordField = (password: string): ValidationResult => {\n  const passwordConfig: FieldConfig = {\n    fieldId: 'password',\n    fieldType: 'text',\n    label: 'Password',\n    validation: {\n      rules: [\n        { type: 'required', message: 'Password is required' },\n        { type: 'minLength', value: 8, message: 'Password must be at least 8 characters' },\n      ],\n    },\n  };\n\n  return validateField(password, passwordConfig);\n};\n\n/**\n * Validate number within range\n */\nexport const validateNumberRange = (\n  value: number,\n  min: number,\n  max: number\n): ValidationResult => {\n  const numberConfig: FieldConfig = {\n    fieldId: 'number',\n    fieldType: 'number',\n    label: 'Number',\n    validation: {\n      rules: [\n        { type: 'min', value: min, message: `Must be at least ${min}` },\n        { type: 'max', value: max, message: `Must be no more than ${max}` },\n      ],\n    },\n  };\n\n  return validateField(value, numberConfig);\n};\n\n/**\n * Validate required text field\n */\nexport const validateRequiredText = (text: string, fieldName: string = 'Field'): ValidationResult => {\n  const textConfig: FieldConfig = {\n    fieldId: 'text',\n    fieldType: 'text',\n    label: fieldName,\n    validation: {\n      rules: [\n        { type: 'required', message: `${fieldName} is required` },\n      ],\n    },\n  };\n\n  return validateField(text, textConfig);\n};","/**\n * @react-dynamic-forms/validators\n * Validation engine and rules for React Dynamic Forms\n * @packageDocumentation\n */\n\n// Export validation engine\nexport * from './engine';\n\n// Export validators\nexport * from './validators';\n\n// Export rules\nexport * from './rules';\n\n// Package version\nexport const VERSION = '0.1.0';"]}